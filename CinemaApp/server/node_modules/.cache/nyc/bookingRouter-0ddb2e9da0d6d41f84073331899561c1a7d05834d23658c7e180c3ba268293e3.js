function cov_9qbfoeix5(){var path="C:\\Users\\EmmyB.000\\Desktop\\OneDrive\\Software\\Projects\\ASSESSMENTS\\3-finalProject\\CinemaApp\\server\\routes\\bookingRouter.js";var hash="07377db79d11fcfe99d1b45e10a7035e9eb1fb0a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\EmmyB.000\\Desktop\\OneDrive\\Software\\Projects\\ASSESSMENTS\\3-finalProject\\CinemaApp\\server\\routes\\bookingRouter.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:31}},"1":{start:{line:2,column:16},end:{line:2,column:34}},"2":{start:{line:3,column:21},end:{line:3,column:37}},"3":{start:{line:5,column:18},end:{line:5,column:51}},"4":{start:{line:8,column:0},end:{line:53,column:2}},"5":{start:{line:9,column:22},end:{line:9,column:40}},"6":{start:{line:10,column:21},end:{line:10,column:38}},"7":{start:{line:11,column:18},end:{line:11,column:32}},"8":{start:{line:12,column:16},end:{line:12,column:28}},"9":{start:{line:13,column:17},end:{line:13,column:30}},"10":{start:{line:14,column:18},end:{line:14,column:32}},"11":{start:{line:15,column:22},end:{line:15,column:40}},"12":{start:{line:16,column:22},end:{line:16,column:40}},"13":{start:{line:17,column:27},end:{line:17,column:50}},"14":{start:{line:18,column:21},end:{line:18,column:38}},"15":{start:{line:19,column:23},end:{line:19,column:42}},"16":{start:{line:20,column:21},end:{line:20,column:38}},"17":{start:{line:21,column:20},end:{line:21,column:36}},"18":{start:{line:22,column:21},end:{line:22,column:38}},"19":{start:{line:23,column:16},end:{line:23,column:28}},"20":{start:{line:25,column:20},end:{line:30,column:5}},"21":{start:{line:31,column:20},end:{line:38,column:5}},"22":{start:{line:40,column:23},end:{line:50,column:6}},"23":{start:{line:52,column:4},end:{line:52,column:108}},"24":{start:{line:52,column:33},end:{line:52,column:53}},"25":{start:{line:52,column:70},end:{line:52,column:107}},"26":{start:{line:56,column:0},end:{line:58,column:2}},"27":{start:{line:57,column:4},end:{line:57,column:109}},"28":{start:{line:57,column:36},end:{line:57,column:54}},"29":{start:{line:57,column:71},end:{line:57,column:108}},"30":{start:{line:61,column:0},end:{line:65,column:2}},"31":{start:{line:62,column:4},end:{line:64,column:58}},"32":{start:{line:63,column:23},end:{line:63,column:40}},"33":{start:{line:64,column:20},end:{line:64,column:57}},"34":{start:{line:68,column:0},end:{line:83,column:3}},"35":{start:{line:69,column:26},end:{line:73,column:5}},"36":{start:{line:74,column:4},end:{line:82,column:6}},"37":{start:{line:77,column:8},end:{line:81,column:9}},"38":{start:{line:78,column:12},end:{line:78,column:28}},"39":{start:{line:80,column:11},end:{line:80,column:28}},"40":{start:{line:85,column:0},end:{line:102,column:2}},"41":{start:{line:86,column:27},end:{line:92,column:5}},"42":{start:{line:93,column:4},end:{line:101,column:6}},"43":{start:{line:96,column:8},end:{line:100,column:9}},"44":{start:{line:97,column:12},end:{line:97,column:28}},"45":{start:{line:99,column:12},end:{line:99,column:28}},"46":{start:{line:104,column:0},end:{line:106,column:2}},"47":{start:{line:105,column:4},end:{line:105,column:126}},"48":{start:{line:105,column:57},end:{line:105,column:71}},"49":{start:{line:105,column:88},end:{line:105,column:125}},"50":{start:{line:108,column:0},end:{line:108,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:33},end:{line:8,column:34}},loc:{start:{line:8,column:47},end:{line:53,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:52,column:27},end:{line:52,column:28}},loc:{start:{line:52,column:33},end:{line:52,column:53}},line:52},"2":{name:"(anonymous_2)",decl:{start:{line:52,column:61},end:{line:52,column:62}},loc:{start:{line:52,column:70},end:{line:52,column:107}},line:52},"3":{name:"(anonymous_3)",decl:{start:{line:56,column:34},end:{line:56,column:35}},loc:{start:{line:56,column:48},end:{line:58,column:1}},line:56},"4":{name:"(anonymous_4)",decl:{start:{line:57,column:24},end:{line:57,column:25}},loc:{start:{line:57,column:36},end:{line:57,column:54}},line:57},"5":{name:"(anonymous_5)",decl:{start:{line:57,column:62},end:{line:57,column:63}},loc:{start:{line:57,column:71},end:{line:57,column:108}},line:57},"6":{name:"(anonymous_6)",decl:{start:{line:61,column:36},end:{line:61,column:37}},loc:{start:{line:61,column:50},end:{line:65,column:1}},line:61},"7":{name:"(anonymous_7)",decl:{start:{line:63,column:10},end:{line:63,column:11}},loc:{start:{line:63,column:23},end:{line:63,column:40}},line:63},"8":{name:"(anonymous_8)",decl:{start:{line:64,column:11},end:{line:64,column:12}},loc:{start:{line:64,column:20},end:{line:64,column:57}},line:64},"9":{name:"(anonymous_9)",decl:{start:{line:68,column:40},end:{line:68,column:41}},loc:{start:{line:68,column:54},end:{line:83,column:1}},line:68},"10":{name:"(anonymous_10)",decl:{start:{line:76,column:7},end:{line:76,column:8}},loc:{start:{line:76,column:30},end:{line:82,column:5}},line:76},"11":{name:"(anonymous_11)",decl:{start:{line:85,column:42},end:{line:85,column:43}},loc:{start:{line:85,column:56},end:{line:102,column:1}},line:85},"12":{name:"(anonymous_12)",decl:{start:{line:95,column:7},end:{line:95,column:8}},loc:{start:{line:95,column:30},end:{line:101,column:5}},line:95},"13":{name:"(anonymous_13)",decl:{start:{line:104,column:42},end:{line:104,column:43}},loc:{start:{line:104,column:56},end:{line:106,column:1}},line:104},"14":{name:"(anonymous_14)",decl:{start:{line:105,column:51},end:{line:105,column:52}},loc:{start:{line:105,column:57},end:{line:105,column:71}},line:105},"15":{name:"(anonymous_15)",decl:{start:{line:105,column:79},end:{line:105,column:80}},loc:{start:{line:105,column:88},end:{line:105,column:125}},line:105}},branchMap:{"0":{loc:{start:{line:77,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:77,column:8},end:{line:81,column:9}},{start:{line:77,column:8},end:{line:81,column:9}}],line:77},"1":{loc:{start:{line:96,column:8},end:{line:100,column:9}},type:"if",locations:[{start:{line:96,column:8},end:{line:100,column:9}},{start:{line:96,column:8},end:{line:100,column:9}}],line:96}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"07377db79d11fcfe99d1b45e10a7035e9eb1fb0a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_9qbfoeix5=function(){return actualCoverage;};}return actualCoverage;}cov_9qbfoeix5();const axios=(cov_9qbfoeix5().s[0]++,require('axios'));const express=(cov_9qbfoeix5().s[1]++,require('express'));const bookingRoute=(cov_9qbfoeix5().s[2]++,express.Router());const{Booking}=(cov_9qbfoeix5().s[3]++,require('../models/bookingModel'));// create movie using form
cov_9qbfoeix5().s[4]++;bookingRoute.route('/post').post((req,res)=>{cov_9qbfoeix5().f[0]++;const firstName=(cov_9qbfoeix5().s[5]++,req.body.firstName);const lastName=(cov_9qbfoeix5().s[6]++,req.body.lastName);const movie=(cov_9qbfoeix5().s[7]++,req.body.movie);const day=(cov_9qbfoeix5().s[8]++,req.body.day);const time=(cov_9qbfoeix5().s[9]++,req.body.time);const price=(cov_9qbfoeix5().s[10]++,req.body.price);const noOfAdult=(cov_9qbfoeix5().s[11]++,req.body.noOfAdult);const noOfChild=(cov_9qbfoeix5().s[12]++,req.body.noOfChild);const noOfConcession=(cov_9qbfoeix5().s[13]++,req.body.noOfConcession);const cardName=(cov_9qbfoeix5().s[14]++,req.body.cardName);const cardNumber=(cov_9qbfoeix5().s[15]++,req.body.cardNumber);const cardDate=(cov_9qbfoeix5().s[16]++,req.body.cardDate);const cardCVC=(cov_9qbfoeix5().s[17]++,req.body.cardCVC);const dateTime=(cov_9qbfoeix5().s[18]++,req.body.dateTime);const _id=(cov_9qbfoeix5().s[19]++,req.body._id);// const _id = (lastName.substring(0, 4).toUpperCase() + String(Math.floor(Math.random() * 9999) + 1000) + movie.substring(0, 2).toUpperCase())
const tickets=(cov_9qbfoeix5().s[20]++,{_id,noOfAdult,noOfChild,noOfConcession});const payment=(cov_9qbfoeix5().s[21]++,{_id,cardName,cardNumber,cardDate,cardCVC,dateTime});const newBooking=(cov_9qbfoeix5().s[22]++,new Booking({_id,firstName,lastName,movie,day,time,price,tickets,payment}));cov_9qbfoeix5().s[23]++;newBooking.save().then(()=>{cov_9qbfoeix5().f[1]++;cov_9qbfoeix5().s[24]++;return res.json(newBooking);}).catch(err=>{cov_9qbfoeix5().f[2]++;cov_9qbfoeix5().s[25]++;return res.status(400).json('Error: '+err);});});cov_9qbfoeix5().s[26]++;bookingRoute.route('/getAll').get((req,res)=>{cov_9qbfoeix5().f[3]++;cov_9qbfoeix5().s[27]++;Booking.find().then(bookings=>{cov_9qbfoeix5().f[4]++;cov_9qbfoeix5().s[28]++;return res.json(bookings);}).catch(err=>{cov_9qbfoeix5().f[5]++;cov_9qbfoeix5().s[29]++;return res.status(400).json('Error: '+err);});});cov_9qbfoeix5().s[30]++;bookingRoute.route('/get/:_id').get((req,res)=>{cov_9qbfoeix5().f[6]++;cov_9qbfoeix5().s[31]++;Booking.findById(req.params._id).then(booking=>{cov_9qbfoeix5().f[7]++;cov_9qbfoeix5().s[32]++;return res.json(booking);}).catch(err=>{cov_9qbfoeix5().f[8]++;cov_9qbfoeix5().s[33]++;return res.status(400).json('Error: '+err);});});cov_9qbfoeix5().s[34]++;bookingRoute.route('/update/:_id').post((req,res)=>{cov_9qbfoeix5().f[9]++;const ticketDetails=(cov_9qbfoeix5().s[35]++,{noOfAdult:req.body.noOfAdult,noOfChild:req.body.noOfChild,noOfConcession:req.body.noOfConcession});cov_9qbfoeix5().s[36]++;Booking.findByIdAndUpdate(req.params._id,{tickets:ticketDetails},function(err,result){cov_9qbfoeix5().f[10]++;cov_9qbfoeix5().s[37]++;if(err){cov_9qbfoeix5().b[0][0]++;cov_9qbfoeix5().s[38]++;console.log(err);}else{cov_9qbfoeix5().b[0][1]++;cov_9qbfoeix5().s[39]++;res.send(result);}});});cov_9qbfoeix5().s[40]++;bookingRoute.route('/checkout/:_id').post((req,res)=>{cov_9qbfoeix5().f[11]++;const paymentDetails=(cov_9qbfoeix5().s[41]++,{cardName:req.body.cardName,cardNumber:req.body.cardNumber,cardDate:req.body.cardDate,cardCVC:req.body.cardCVC,dateTime:req.body.dateTime});cov_9qbfoeix5().s[42]++;Booking.findByIdAndUpdate(req.params._id,{payment:paymentDetails},function(err,result){cov_9qbfoeix5().f[12]++;cov_9qbfoeix5().s[43]++;if(err){cov_9qbfoeix5().b[1][0]++;cov_9qbfoeix5().s[44]++;console.log(err);}else{cov_9qbfoeix5().b[1][1]++;cov_9qbfoeix5().s[45]++;res.send(result);}});});cov_9qbfoeix5().s[46]++;bookingRoute.route('/delete/:_id').delete((req,res)=>{cov_9qbfoeix5().f[13]++;cov_9qbfoeix5().s[47]++;Booking.findByIdAndDelete(req.params._id).then(()=>{cov_9qbfoeix5().f[14]++;cov_9qbfoeix5().s[48]++;return res.send(null);}).catch(err=>{cov_9qbfoeix5().f[15]++;cov_9qbfoeix5().s[49]++;return res.status(400).json('Error: '+err);});});cov_9qbfoeix5().s[50]++;module.exports=bookingRoute;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJleHByZXNzIiwiYm9va2luZ1JvdXRlIiwiUm91dGVyIiwiQm9va2luZyIsInJvdXRlIiwicG9zdCIsInJlcSIsInJlcyIsImZpcnN0TmFtZSIsImJvZHkiLCJsYXN0TmFtZSIsIm1vdmllIiwiZGF5IiwidGltZSIsInByaWNlIiwibm9PZkFkdWx0Iiwibm9PZkNoaWxkIiwibm9PZkNvbmNlc3Npb24iLCJjYXJkTmFtZSIsImNhcmROdW1iZXIiLCJjYXJkRGF0ZSIsImNhcmRDVkMiLCJkYXRlVGltZSIsIl9pZCIsInRpY2tldHMiLCJwYXltZW50IiwibmV3Qm9va2luZyIsInNhdmUiLCJ0aGVuIiwianNvbiIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiZ2V0IiwiZmluZCIsImJvb2tpbmdzIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJib29raW5nIiwidGlja2V0RGV0YWlscyIsImZpbmRCeUlkQW5kVXBkYXRlIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJwYXltZW50RGV0YWlscyIsImRlbGV0ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImJvb2tpbmdSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXhpb3MgID0gcmVxdWlyZSgnYXhpb3MnKTtcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYm9va2luZ1JvdXRlID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmNvbnN0IHtCb29raW5nfSA9IHJlcXVpcmUoJy4uL21vZGVscy9ib29raW5nTW9kZWwnKTtcclxuXHJcbi8vIGNyZWF0ZSBtb3ZpZSB1c2luZyBmb3JtXHJcbmJvb2tpbmdSb3V0ZS5yb3V0ZSgnL3Bvc3QnKS5wb3N0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgZmlyc3ROYW1lID0gcmVxLmJvZHkuZmlyc3ROYW1lO1xyXG4gICAgY29uc3QgbGFzdE5hbWUgPSByZXEuYm9keS5sYXN0TmFtZTtcclxuICAgIGNvbnN0IG1vdmllID0gcmVxLmJvZHkubW92aWU7XHJcbiAgICBjb25zdCBkYXkgPSByZXEuYm9keS5kYXk7XHJcbiAgICBjb25zdCB0aW1lID0gcmVxLmJvZHkudGltZTtcclxuICAgIGNvbnN0IHByaWNlID0gcmVxLmJvZHkucHJpY2U7XHJcbiAgICBjb25zdCBub09mQWR1bHQgPSByZXEuYm9keS5ub09mQWR1bHQ7XHJcbiAgICBjb25zdCBub09mQ2hpbGQgPSByZXEuYm9keS5ub09mQ2hpbGQ7XHJcbiAgICBjb25zdCBub09mQ29uY2Vzc2lvbiA9IHJlcS5ib2R5Lm5vT2ZDb25jZXNzaW9uO1xyXG4gICAgY29uc3QgY2FyZE5hbWUgPSByZXEuYm9keS5jYXJkTmFtZTtcclxuICAgIGNvbnN0IGNhcmROdW1iZXIgPSByZXEuYm9keS5jYXJkTnVtYmVyO1xyXG4gICAgY29uc3QgY2FyZERhdGUgPSByZXEuYm9keS5jYXJkRGF0ZTtcclxuICAgIGNvbnN0IGNhcmRDVkMgPSByZXEuYm9keS5jYXJkQ1ZDO1xyXG4gICAgY29uc3QgZGF0ZVRpbWUgPSByZXEuYm9keS5kYXRlVGltZTtcclxuICAgIGNvbnN0IF9pZCA9IHJlcS5ib2R5Ll9pZDtcclxuICAgIC8vIGNvbnN0IF9pZCA9IChsYXN0TmFtZS5zdWJzdHJpbmcoMCwgNCkudG9VcHBlckNhc2UoKSArIFN0cmluZyhNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5OTk5KSArIDEwMDApICsgbW92aWUuc3Vic3RyaW5nKDAsIDIpLnRvVXBwZXJDYXNlKCkpXHJcbiAgICBjb25zdCB0aWNrZXRzID0ge1xyXG4gICAgICAgIF9pZCxcclxuICAgICAgICBub09mQWR1bHQsXHJcbiAgICAgICAgbm9PZkNoaWxkLFxyXG4gICAgICAgIG5vT2ZDb25jZXNzaW9uXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF5bWVudCA9IHtcclxuICAgICAgICBfaWQsXHJcbiAgICAgICAgY2FyZE5hbWUsXHJcbiAgICAgICAgY2FyZE51bWJlcixcclxuICAgICAgICBjYXJkRGF0ZSxcclxuICAgICAgICBjYXJkQ1ZDLFxyXG4gICAgICAgIGRhdGVUaW1lXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG5ld0Jvb2tpbmcgPSBuZXcgQm9va2luZyh7XHJcbiAgICAgICAgX2lkLFxyXG4gICAgICAgIGZpcnN0TmFtZSxcclxuICAgICAgICBsYXN0TmFtZSxcclxuICAgICAgICBtb3ZpZSxcclxuICAgICAgICBkYXksXHJcbiAgICAgICAgdGltZSxcclxuICAgICAgICBwcmljZSxcclxuICAgICAgICB0aWNrZXRzLFxyXG4gICAgICAgIHBheW1lbnRcclxuICAgIH0pO1xyXG5cclxuICAgIG5ld0Jvb2tpbmcuc2F2ZSgpLnRoZW4oKCkgPT4gcmVzLmpzb24obmV3Qm9va2luZykpLmNhdGNoKChlcnIpID0+IHJlcy5zdGF0dXMoNDAwKS5qc29uKCdFcnJvcjogJyArIGVycikpXHJcbn0pXHJcblxyXG5cclxuYm9va2luZ1JvdXRlLnJvdXRlKCcvZ2V0QWxsJykuZ2V0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgQm9va2luZy5maW5kKCkudGhlbihib29raW5ncyA9PiByZXMuanNvbihib29raW5ncykpLmNhdGNoKChlcnIpID0+IHJlcy5zdGF0dXMoNDAwKS5qc29uKCdFcnJvcjogJyArIGVycikpXHJcbn0pXHJcblxyXG5cclxuYm9va2luZ1JvdXRlLnJvdXRlKCcvZ2V0LzpfaWQnKS5nZXQoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBCb29raW5nLmZpbmRCeUlkKHJlcS5wYXJhbXMuX2lkKVxyXG4gICAgLnRoZW4oKGJvb2tpbmcpID0+IHJlcy5qc29uKGJvb2tpbmcpKVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHJlcy5zdGF0dXMoNDAwKS5qc29uKCdFcnJvcjogJyArIGVycikpXHJcbn0pXHJcblxyXG5cclxuYm9va2luZ1JvdXRlLnJvdXRlKCcvdXBkYXRlLzpfaWQnKS5wb3N0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdGlja2V0RGV0YWlscyA9IHtcclxuICAgICAgICBub09mQWR1bHQ6IHJlcS5ib2R5Lm5vT2ZBZHVsdCxcclxuICAgICAgICBub09mQ2hpbGQ6IHJlcS5ib2R5Lm5vT2ZDaGlsZCxcclxuICAgICAgICBub09mQ29uY2Vzc2lvbjogcmVxLmJvZHkubm9PZkNvbmNlc3Npb25cclxuICAgIH07XHJcbiAgICBCb29raW5nLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5wYXJhbXMuX2lkLCB7XHJcbiAgICAgICAgdGlja2V0czogdGlja2V0RGV0YWlsc1xyXG4gICAgfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICByZXMuc2VuZChyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pO1xyXG5cclxuYm9va2luZ1JvdXRlLnJvdXRlKCcvY2hlY2tvdXQvOl9pZCcpLnBvc3QoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwYXltZW50RGV0YWlscyA9IHtcclxuICAgICAgICBjYXJkTmFtZTogcmVxLmJvZHkuY2FyZE5hbWUsXHJcbiAgICAgICAgY2FyZE51bWJlcjogcmVxLmJvZHkuY2FyZE51bWJlcixcclxuICAgICAgICBjYXJkRGF0ZTogcmVxLmJvZHkuY2FyZERhdGUsXHJcbiAgICAgICAgY2FyZENWQzogcmVxLmJvZHkuY2FyZENWQyxcclxuICAgICAgICBkYXRlVGltZTogcmVxLmJvZHkuZGF0ZVRpbWVcclxuICAgIH1cclxuICAgIEJvb2tpbmcuZmluZEJ5SWRBbmRVcGRhdGUocmVxLnBhcmFtcy5faWQsIHtcclxuICAgICAgICBwYXltZW50OiBwYXltZW50RGV0YWlsc1xyXG4gICAgfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnNlbmQocmVzdWx0KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pXHJcblxyXG5ib29raW5nUm91dGUucm91dGUoJy9kZWxldGUvOl9pZCcpLmRlbGV0ZSgocmVxLCByZXMpID0+IHtcclxuICAgIEJvb2tpbmcuZmluZEJ5SWRBbmREZWxldGUocmVxLnBhcmFtcy5faWQpLnRoZW4oKCkgPT4gcmVzLnNlbmQobnVsbCkpLmNhdGNoKChlcnIpID0+IHJlcy5zdGF0dXMoNDAwKS5qc29uKCdFcnJvcjogJyArIGVycikpXHJcbn0pXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGJvb2tpbmdSb3V0ZTsiXSwibWFwcGluZ3MiOiJrdE5BZVk7eUZBZlosS0FBTUEsTUFBSyx5QkFBSUMsT0FBTyxDQUFDLE9BQUQsQ0FBWCxDQUFYLENBQ0EsS0FBTUMsUUFBTyx5QkFBR0QsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUUsYUFBWSx5QkFBR0QsT0FBTyxDQUFDRSxNQUFSLEVBQUgsQ0FBbEIsQ0FFQSxLQUFNLENBQUNDLE9BQUQsMEJBQVlKLE9BQU8sQ0FBQyx3QkFBRCxDQUFuQixDQUFOLENBRUE7dUJBQ0FFLFlBQVksQ0FBQ0csS0FBYixDQUFtQixPQUFuQixFQUE0QkMsSUFBNUIsQ0FBaUMsQ0FBQ0MsR0FBRCxDQUFNQyxHQUFOLEdBQWMsd0JBQzNDLEtBQU1DLFVBQVMseUJBQUdGLEdBQUcsQ0FBQ0csSUFBSixDQUFTRCxTQUFaLENBQWYsQ0FDQSxLQUFNRSxTQUFRLHlCQUFHSixHQUFHLENBQUNHLElBQUosQ0FBU0MsUUFBWixDQUFkLENBQ0EsS0FBTUMsTUFBSyx5QkFBR0wsR0FBRyxDQUFDRyxJQUFKLENBQVNFLEtBQVosQ0FBWCxDQUNBLEtBQU1DLElBQUcseUJBQUdOLEdBQUcsQ0FBQ0csSUFBSixDQUFTRyxHQUFaLENBQVQsQ0FDQSxLQUFNQyxLQUFJLHlCQUFHUCxHQUFHLENBQUNHLElBQUosQ0FBU0ksSUFBWixDQUFWLENBQ0EsS0FBTUMsTUFBSywwQkFBR1IsR0FBRyxDQUFDRyxJQUFKLENBQVNLLEtBQVosQ0FBWCxDQUNBLEtBQU1DLFVBQVMsMEJBQUdULEdBQUcsQ0FBQ0csSUFBSixDQUFTTSxTQUFaLENBQWYsQ0FDQSxLQUFNQyxVQUFTLDBCQUFHVixHQUFHLENBQUNHLElBQUosQ0FBU08sU0FBWixDQUFmLENBQ0EsS0FBTUMsZUFBYywwQkFBR1gsR0FBRyxDQUFDRyxJQUFKLENBQVNRLGNBQVosQ0FBcEIsQ0FDQSxLQUFNQyxTQUFRLDBCQUFHWixHQUFHLENBQUNHLElBQUosQ0FBU1MsUUFBWixDQUFkLENBQ0EsS0FBTUMsV0FBVSwwQkFBR2IsR0FBRyxDQUFDRyxJQUFKLENBQVNVLFVBQVosQ0FBaEIsQ0FDQSxLQUFNQyxTQUFRLDBCQUFHZCxHQUFHLENBQUNHLElBQUosQ0FBU1csUUFBWixDQUFkLENBQ0EsS0FBTUMsUUFBTywwQkFBR2YsR0FBRyxDQUFDRyxJQUFKLENBQVNZLE9BQVosQ0FBYixDQUNBLEtBQU1DLFNBQVEsMEJBQUdoQixHQUFHLENBQUNHLElBQUosQ0FBU2EsUUFBWixDQUFkLENBQ0EsS0FBTUMsSUFBRywwQkFBR2pCLEdBQUcsQ0FBQ0csSUFBSixDQUFTYyxHQUFaLENBQVQsQ0FDQTtBQUNBLEtBQU1DLFFBQU8sMEJBQUcsQ0FDWkQsR0FEWSxDQUVaUixTQUZZLENBR1pDLFNBSFksQ0FJWkMsY0FKWSxDQUFILENBQWIsQ0FNQSxLQUFNUSxRQUFPLDBCQUFHLENBQ1pGLEdBRFksQ0FFWkwsUUFGWSxDQUdaQyxVQUhZLENBSVpDLFFBSlksQ0FLWkMsT0FMWSxDQU1aQyxRQU5ZLENBQUgsQ0FBYixDQVNBLEtBQU1JLFdBQVUsMEJBQUcsR0FBSXZCLFFBQUosQ0FBWSxDQUMzQm9CLEdBRDJCLENBRTNCZixTQUYyQixDQUczQkUsUUFIMkIsQ0FJM0JDLEtBSjJCLENBSzNCQyxHQUwyQixDQU0zQkMsSUFOMkIsQ0FPM0JDLEtBUDJCLENBUTNCVSxPQVIyQixDQVMzQkMsT0FUMkIsQ0FBWixDQUFILENBQWhCLENBaEMyQyx3QkE0QzNDQyxVQUFVLENBQUNDLElBQVgsR0FBa0JDLElBQWxCLENBQXVCLElBQU0sc0RBQUFyQixJQUFHLENBQUNzQixJQUFKLENBQVNILFVBQVQsRUFBb0IsQ0FBakQsRUFBbURJLEtBQW5ELENBQTBEQyxHQUFELEVBQVMsc0RBQUF4QixJQUFHLENBQUN5QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUIsVUFBWUUsR0FBakMsRUFBcUMsQ0FBdkcsRUFDSCxDQTdDRCxFLHdCQWdEQTlCLFlBQVksQ0FBQ0csS0FBYixDQUFtQixTQUFuQixFQUE4QjZCLEdBQTlCLENBQWtDLENBQUMzQixHQUFELENBQU1DLEdBQU4sR0FBYyxnREFDNUNKLE9BQU8sQ0FBQytCLElBQVIsR0FBZU4sSUFBZixDQUFvQk8sUUFBUSxFQUFJLHNEQUFBNUIsSUFBRyxDQUFDc0IsSUFBSixDQUFTTSxRQUFULEVBQWtCLENBQWxELEVBQW9ETCxLQUFwRCxDQUEyREMsR0FBRCxFQUFTLHNEQUFBeEIsSUFBRyxDQUFDeUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCLFVBQVlFLEdBQWpDLEVBQXFDLENBQXhHLEVBQ0gsQ0FGRCxFLHdCQUtBOUIsWUFBWSxDQUFDRyxLQUFiLENBQW1CLFdBQW5CLEVBQWdDNkIsR0FBaEMsQ0FBb0MsQ0FBQzNCLEdBQUQsQ0FBTUMsR0FBTixHQUFjLGdEQUM5Q0osT0FBTyxDQUFDaUMsUUFBUixDQUFpQjlCLEdBQUcsQ0FBQytCLE1BQUosQ0FBV2QsR0FBNUIsRUFDQ0ssSUFERCxDQUNPVSxPQUFELEVBQWEsc0RBQUEvQixJQUFHLENBQUNzQixJQUFKLENBQVNTLE9BQVQsRUFBaUIsQ0FEcEMsRUFFQ1IsS0FGRCxDQUVRQyxHQUFELEVBQVMsc0RBQUF4QixJQUFHLENBQUN5QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUIsVUFBWUUsR0FBakMsRUFBcUMsQ0FGckQsRUFHSCxDQUpELEUsd0JBT0E5QixZQUFZLENBQUNHLEtBQWIsQ0FBbUIsY0FBbkIsRUFBbUNDLElBQW5DLENBQXdDLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixHQUFjLHdCQUNsRCxLQUFNZ0MsY0FBYSwwQkFBRyxDQUNsQnhCLFNBQVMsQ0FBRVQsR0FBRyxDQUFDRyxJQUFKLENBQVNNLFNBREYsQ0FFbEJDLFNBQVMsQ0FBRVYsR0FBRyxDQUFDRyxJQUFKLENBQVNPLFNBRkYsQ0FHbEJDLGNBQWMsQ0FBRVgsR0FBRyxDQUFDRyxJQUFKLENBQVNRLGNBSFAsQ0FBSCxDQUFuQixDQURrRCx3QkFNbERkLE9BQU8sQ0FBQ3FDLGlCQUFSLENBQTBCbEMsR0FBRyxDQUFDK0IsTUFBSixDQUFXZCxHQUFyQyxDQUEwQyxDQUN0Q0MsT0FBTyxDQUFFZSxhQUQ2QixDQUExQyxDQUVHLFNBQVVSLEdBQVYsQ0FBZVUsTUFBZixDQUF1QixpREFDdEIsR0FBSVYsR0FBSixDQUFTLG1EQUNMVyxPQUFPLENBQUNDLEdBQVIsQ0FBWVosR0FBWixFQUNILENBRkQsSUFFTyxtREFDSnhCLEdBQUcsQ0FBQ3FDLElBQUosQ0FBU0gsTUFBVCxFQUNGLENBQ0osQ0FSRCxFQVNILENBZkQsRSx3QkFpQkF4QyxZQUFZLENBQUNHLEtBQWIsQ0FBbUIsZ0JBQW5CLEVBQXFDQyxJQUFyQyxDQUEwQyxDQUFDQyxHQUFELENBQU1DLEdBQU4sR0FBYyx5QkFDcEQsS0FBTXNDLGVBQWMsMEJBQUcsQ0FDbkIzQixRQUFRLENBQUVaLEdBQUcsQ0FBQ0csSUFBSixDQUFTUyxRQURBLENBRW5CQyxVQUFVLENBQUViLEdBQUcsQ0FBQ0csSUFBSixDQUFTVSxVQUZGLENBR25CQyxRQUFRLENBQUVkLEdBQUcsQ0FBQ0csSUFBSixDQUFTVyxRQUhBLENBSW5CQyxPQUFPLENBQUVmLEdBQUcsQ0FBQ0csSUFBSixDQUFTWSxPQUpDLENBS25CQyxRQUFRLENBQUVoQixHQUFHLENBQUNHLElBQUosQ0FBU2EsUUFMQSxDQUFILENBQXBCLENBRG9ELHdCQVFwRG5CLE9BQU8sQ0FBQ3FDLGlCQUFSLENBQTBCbEMsR0FBRyxDQUFDK0IsTUFBSixDQUFXZCxHQUFyQyxDQUEwQyxDQUN0Q0UsT0FBTyxDQUFFb0IsY0FENkIsQ0FBMUMsQ0FFRyxTQUFVZCxHQUFWLENBQWVVLE1BQWYsQ0FBdUIsaURBQ3RCLEdBQUlWLEdBQUosQ0FBUyxtREFDTFcsT0FBTyxDQUFDQyxHQUFSLENBQVlaLEdBQVosRUFDSCxDQUZELElBRU8sbURBQ0h4QixHQUFHLENBQUNxQyxJQUFKLENBQVNILE1BQVQsRUFDSCxDQUNKLENBUkQsRUFTSCxDQWpCRCxFLHdCQW1CQXhDLFlBQVksQ0FBQ0csS0FBYixDQUFtQixjQUFuQixFQUFtQzBDLE1BQW5DLENBQTBDLENBQUN4QyxHQUFELENBQU1DLEdBQU4sR0FBYyxpREFDcERKLE9BQU8sQ0FBQzRDLGlCQUFSLENBQTBCekMsR0FBRyxDQUFDK0IsTUFBSixDQUFXZCxHQUFyQyxFQUEwQ0ssSUFBMUMsQ0FBK0MsSUFBTSx1REFBQXJCLElBQUcsQ0FBQ3FDLElBQUosQ0FBUyxJQUFULEVBQWMsQ0FBbkUsRUFBcUVkLEtBQXJFLENBQTRFQyxHQUFELEVBQVMsdURBQUF4QixJQUFHLENBQUN5QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUIsVUFBWUUsR0FBakMsRUFBcUMsQ0FBekgsRUFDSCxDQUZELEUsd0JBSUFpQixNQUFNLENBQUNDLE9BQVAsQ0FBaUJoRCxZQUFqQiJ9