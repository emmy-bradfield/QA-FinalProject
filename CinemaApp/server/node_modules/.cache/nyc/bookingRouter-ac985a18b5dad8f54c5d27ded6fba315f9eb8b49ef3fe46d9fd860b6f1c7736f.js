function cov_fjodi59rm(){var path="C:\\Users\\EmmyB.000\\Desktop\\OneDrive\\Software\\Projects\\ASSESSMENTS\\3-finalProject\\CinemaApp\\backend\\routes\\bookingRouter.js";var hash="1fc3b7a6afd785dd2252059f66e631e5e81aa071";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\EmmyB.000\\Desktop\\OneDrive\\Software\\Projects\\ASSESSMENTS\\3-finalProject\\CinemaApp\\backend\\routes\\bookingRouter.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:2,column:16},end:{line:2,column:34}},"2":{start:{line:3,column:21},end:{line:3,column:37}},"3":{start:{line:5,column:18},end:{line:5,column:51}},"4":{start:{line:8,column:0},end:{line:53,column:3}},"5":{start:{line:9,column:22},end:{line:9,column:40}},"6":{start:{line:10,column:21},end:{line:10,column:38}},"7":{start:{line:11,column:18},end:{line:11,column:32}},"8":{start:{line:12,column:16},end:{line:12,column:28}},"9":{start:{line:13,column:17},end:{line:13,column:30}},"10":{start:{line:14,column:18},end:{line:14,column:32}},"11":{start:{line:15,column:22},end:{line:15,column:40}},"12":{start:{line:16,column:22},end:{line:16,column:40}},"13":{start:{line:17,column:27},end:{line:17,column:50}},"14":{start:{line:18,column:21},end:{line:18,column:38}},"15":{start:{line:19,column:23},end:{line:19,column:42}},"16":{start:{line:20,column:21},end:{line:20,column:38}},"17":{start:{line:21,column:20},end:{line:21,column:36}},"18":{start:{line:22,column:21},end:{line:22,column:38}},"19":{start:{line:24,column:17},end:{line:24,column:143}},"20":{start:{line:25,column:20},end:{line:30,column:5}},"21":{start:{line:31,column:20},end:{line:38,column:5}},"22":{start:{line:40,column:23},end:{line:50,column:6}},"23":{start:{line:52,column:4},end:{line:52,column:108}},"24":{start:{line:52,column:33},end:{line:52,column:53}},"25":{start:{line:52,column:70},end:{line:52,column:107}},"26":{start:{line:56,column:0},end:{line:58,column:3}},"27":{start:{line:57,column:4},end:{line:57,column:109}},"28":{start:{line:57,column:36},end:{line:57,column:54}},"29":{start:{line:57,column:71},end:{line:57,column:108}},"30":{start:{line:61,column:0},end:{line:63,column:3}},"31":{start:{line:62,column:4},end:{line:62,column:136}},"32":{start:{line:62,column:64},end:{line:62,column:81}},"33":{start:{line:62,column:98},end:{line:62,column:135}},"34":{start:{line:66,column:0},end:{line:93,column:3}},"35":{start:{line:67,column:4},end:{line:92,column:49}},"36":{start:{line:68,column:31},end:{line:89,column:9}},"37":{start:{line:90,column:8},end:{line:90,column:50}},"38":{start:{line:91,column:8},end:{line:91,column:120}},"39":{start:{line:91,column:41},end:{line:91,column:65}},"40":{start:{line:91,column:82},end:{line:91,column:119}},"41":{start:{line:92,column:22},end:{line:92,column:47}},"42":{start:{line:96,column:0},end:{line:122,column:3}},"43":{start:{line:97,column:4},end:{line:121,column:49}},"44":{start:{line:98,column:32},end:{line:118,column:9}},"45":{start:{line:119,column:8},end:{line:119,column:50}},"46":{start:{line:120,column:8},end:{line:120,column:122}},"47":{start:{line:120,column:42},end:{line:120,column:67}},"48":{start:{line:120,column:84},end:{line:120,column:121}},"49":{start:{line:121,column:22},end:{line:121,column:47}},"50":{start:{line:125,column:0},end:{line:127,column:3}},"51":{start:{line:126,column:4},end:{line:126,column:157}},"52":{start:{line:126,column:57},end:{line:126,column:102}},"53":{start:{line:126,column:119},end:{line:126,column:156}},"54":{start:{line:129,column:0},end:{line:129,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:33},end:{line:8,column:34}},loc:{start:{line:8,column:47},end:{line:53,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:52,column:27},end:{line:52,column:28}},loc:{start:{line:52,column:33},end:{line:52,column:53}},line:52},"2":{name:"(anonymous_2)",decl:{start:{line:52,column:61},end:{line:52,column:62}},loc:{start:{line:52,column:70},end:{line:52,column:107}},line:52},"3":{name:"(anonymous_3)",decl:{start:{line:56,column:34},end:{line:56,column:35}},loc:{start:{line:56,column:48},end:{line:58,column:1}},line:56},"4":{name:"(anonymous_4)",decl:{start:{line:57,column:24},end:{line:57,column:25}},loc:{start:{line:57,column:36},end:{line:57,column:54}},line:57},"5":{name:"(anonymous_5)",decl:{start:{line:57,column:62},end:{line:57,column:63}},loc:{start:{line:57,column:71},end:{line:57,column:108}},line:57},"6":{name:"(anonymous_6)",decl:{start:{line:61,column:36},end:{line:61,column:37}},loc:{start:{line:61,column:50},end:{line:63,column:1}},line:61},"7":{name:"(anonymous_7)",decl:{start:{line:62,column:51},end:{line:62,column:52}},loc:{start:{line:62,column:64},end:{line:62,column:81}},line:62},"8":{name:"(anonymous_8)",decl:{start:{line:62,column:89},end:{line:62,column:90}},loc:{start:{line:62,column:98},end:{line:62,column:135}},line:62},"9":{name:"(anonymous_9)",decl:{start:{line:66,column:40},end:{line:66,column:41}},loc:{start:{line:66,column:54},end:{line:93,column:1}},line:66},"10":{name:"(anonymous_10)",decl:{start:{line:67,column:41},end:{line:67,column:42}},loc:{start:{line:67,column:48},end:{line:92,column:5}},line:67},"11":{name:"(anonymous_11)",decl:{start:{line:91,column:35},end:{line:91,column:36}},loc:{start:{line:91,column:41},end:{line:91,column:65}},line:91},"12":{name:"(anonymous_12)",decl:{start:{line:91,column:73},end:{line:91,column:74}},loc:{start:{line:91,column:82},end:{line:91,column:119}},line:91},"13":{name:"(anonymous_13)",decl:{start:{line:92,column:13},end:{line:92,column:14}},loc:{start:{line:92,column:22},end:{line:92,column:47}},line:92},"14":{name:"(anonymous_14)",decl:{start:{line:96,column:42},end:{line:96,column:43}},loc:{start:{line:96,column:56},end:{line:122,column:1}},line:96},"15":{name:"(anonymous_15)",decl:{start:{line:97,column:41},end:{line:97,column:42}},loc:{start:{line:97,column:48},end:{line:121,column:5}},line:97},"16":{name:"(anonymous_16)",decl:{start:{line:120,column:36},end:{line:120,column:37}},loc:{start:{line:120,column:42},end:{line:120,column:67}},line:120},"17":{name:"(anonymous_17)",decl:{start:{line:120,column:75},end:{line:120,column:76}},loc:{start:{line:120,column:84},end:{line:120,column:121}},line:120},"18":{name:"(anonymous_18)",decl:{start:{line:121,column:13},end:{line:121,column:14}},loc:{start:{line:121,column:22},end:{line:121,column:47}},line:121},"19":{name:"(anonymous_19)",decl:{start:{line:125,column:42},end:{line:125,column:43}},loc:{start:{line:125,column:56},end:{line:127,column:1}},line:125},"20":{name:"(anonymous_20)",decl:{start:{line:126,column:51},end:{line:126,column:52}},loc:{start:{line:126,column:57},end:{line:126,column:102}},line:126},"21":{name:"(anonymous_21)",decl:{start:{line:126,column:110},end:{line:126,column:111}},loc:{start:{line:126,column:119},end:{line:126,column:156}},line:126}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1fc3b7a6afd785dd2252059f66e631e5e81aa071"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_fjodi59rm=function(){return actualCoverage;};}return actualCoverage;}cov_fjodi59rm();const axios=(cov_fjodi59rm().s[0]++,require('axios'));const express=(cov_fjodi59rm().s[1]++,require('express'));const bookingRoute=(cov_fjodi59rm().s[2]++,express.Router());const{Booking}=(cov_fjodi59rm().s[3]++,require('../models/bookingModel'));// create movie using form
cov_fjodi59rm().s[4]++;bookingRoute.route('/post').post((req,res)=>{cov_fjodi59rm().f[0]++;const firstName=(cov_fjodi59rm().s[5]++,req.body.firstName);const lastName=(cov_fjodi59rm().s[6]++,req.body.lastName);const movie=(cov_fjodi59rm().s[7]++,req.body.movie);const day=(cov_fjodi59rm().s[8]++,req.body.day);const time=(cov_fjodi59rm().s[9]++,req.body.time);const price=(cov_fjodi59rm().s[10]++,req.body.price);const noOfAdult=(cov_fjodi59rm().s[11]++,req.body.noOfAdult);const noOfChild=(cov_fjodi59rm().s[12]++,req.body.noOfChild);const noOfConcession=(cov_fjodi59rm().s[13]++,req.body.noOfConcession);const cardName=(cov_fjodi59rm().s[14]++,req.body.cardName);const cardNumber=(cov_fjodi59rm().s[15]++,req.body.cardNumber);const cardDate=(cov_fjodi59rm().s[16]++,req.body.cardDate);const cardCVC=(cov_fjodi59rm().s[17]++,req.body.cardCVC);const dateTime=(cov_fjodi59rm().s[18]++,req.body.dateTime);const _id=(cov_fjodi59rm().s[19]++,lastName.substring(0,4).toUpperCase()+String(Math.floor(Math.random()*9999)+1000)+movie.substring(0,2).toUpperCase());const tickets=(cov_fjodi59rm().s[20]++,{_id,noOfAdult,noOfChild,noOfConcession});const payment=(cov_fjodi59rm().s[21]++,{_id,cardName,cardNumber,cardDate,cardCVC,dateTime});const newBooking=(cov_fjodi59rm().s[22]++,new Booking({_id,firstName,lastName,movie,day,time,price,tickets,payment}));cov_fjodi59rm().s[23]++;newBooking.save().then(()=>{cov_fjodi59rm().f[1]++;cov_fjodi59rm().s[24]++;return res.json(newBooking);}).catch(err=>{cov_fjodi59rm().f[2]++;cov_fjodi59rm().s[25]++;return res.status(400).json('Error: '+err);});});cov_fjodi59rm().s[26]++;bookingRoute.route('/getAll').get((req,res)=>{cov_fjodi59rm().f[3]++;cov_fjodi59rm().s[27]++;Booking.find().then(bookings=>{cov_fjodi59rm().f[4]++;cov_fjodi59rm().s[28]++;return res.json(bookings);}).catch(err=>{cov_fjodi59rm().f[5]++;cov_fjodi59rm().s[29]++;return res.status(400).json('Error: '+err);});});cov_fjodi59rm().s[30]++;bookingRoute.route('/get/:_id').get((req,res)=>{cov_fjodi59rm().f[6]++;cov_fjodi59rm().s[31]++;Booking.findById({"_id":req.params._id}).then(booking=>{cov_fjodi59rm().f[7]++;cov_fjodi59rm().s[32]++;return res.json(booking);}).catch(err=>{cov_fjodi59rm().f[8]++;cov_fjodi59rm().s[33]++;return res.status(400).json('Error: '+err);});});cov_fjodi59rm().s[34]++;bookingRoute.route('/update/:_id').post((req,res)=>{cov_fjodi59rm().f[9]++;cov_fjodi59rm().s[35]++;Booking.findById(req.params_id).then(res=>{cov_fjodi59rm().f[10]++;const updatedBooking=(cov_fjodi59rm().s[36]++,{_id:req.params._id,firstName:res.body.firstName,lastName:res.body.lastName,movie:res.body.movie,day:res.body.day,time:res.body.time,tickets:{_id:req.params._id,noOfAdult:req.body.noOfAdult,noOfChild:req.body.noOfChild,noOfConcession:req.body.noOfConcession},payment:{_id:req.params._id,cardName:res.body.cardName,cardNumber:res.body.cardNumber,cardDate:res.body.cardDate,cardCVC:res.body.cardCVC}});cov_fjodi59rm().s[37]++;Booking.findByIdAndDelete(req.params._id);cov_fjodi59rm().s[38]++;updatedBooking.save().then(()=>{cov_fjodi59rm().f[11]++;cov_fjodi59rm().s[39]++;return res.json(updatedBooking);}).catch(err=>{cov_fjodi59rm().f[12]++;cov_fjodi59rm().s[40]++;return res.status(400).json('Error: '+err);});}).catch(err=>{cov_fjodi59rm().f[13]++;cov_fjodi59rm().s[41]++;return res.json('Error: '+err);});});cov_fjodi59rm().s[42]++;bookingRoute.route('/checkout/:_id').post((req,res)=>{cov_fjodi59rm().f[14]++;cov_fjodi59rm().s[43]++;Booking.findById(req.params_id).then(res=>{cov_fjodi59rm().f[15]++;const checkoutBooking=(cov_fjodi59rm().s[44]++,{_id:req.params._id,firstName:req.params.firstName,lastName:res.body.lastName,movie:res.body.movie,day:res.body.day,time:res.body.time,tickets:{_id:req.params._id,noOfAdult:res.body.noOfAdult,noOfChild:res.body.noOfChild,noOfConcession:res.body.noOfConcession},payment:{_id:req.params._id,cardName:req.body.cardName,cardNumber:req.body.cardNumber,cardDate:req.body.cardDate,cardCVC:req.body.cardCVC}});cov_fjodi59rm().s[45]++;Booking.findByIdAndDelete(req.params._id);cov_fjodi59rm().s[46]++;checkoutBooking.save().then(()=>{cov_fjodi59rm().f[16]++;cov_fjodi59rm().s[47]++;return res.json(checkoutBooking);}).catch(err=>{cov_fjodi59rm().f[17]++;cov_fjodi59rm().s[48]++;return res.status(400).json('Error: '+err);});}).catch(err=>{cov_fjodi59rm().f[18]++;cov_fjodi59rm().s[49]++;return res.json('Error: '+err);});});cov_fjodi59rm().s[50]++;bookingRoute.route('/delete/:_id').delete((req,res)=>{cov_fjodi59rm().f[19]++;cov_fjodi59rm().s[51]++;Booking.findByIdAndDelete(req.params._id).then(()=>{cov_fjodi59rm().f[20]++;cov_fjodi59rm().s[52]++;return console.log("Booking successfully cancelled");}).catch(err=>{cov_fjodi59rm().f[21]++;cov_fjodi59rm().s[53]++;return res.status(400).json('Error: '+err);});});cov_fjodi59rm().s[54]++;module.exports=bookingRoute;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJleHByZXNzIiwiYm9va2luZ1JvdXRlIiwiUm91dGVyIiwiQm9va2luZyIsInJvdXRlIiwicG9zdCIsInJlcSIsInJlcyIsImZpcnN0TmFtZSIsImJvZHkiLCJsYXN0TmFtZSIsIm1vdmllIiwiZGF5IiwidGltZSIsInByaWNlIiwibm9PZkFkdWx0Iiwibm9PZkNoaWxkIiwibm9PZkNvbmNlc3Npb24iLCJjYXJkTmFtZSIsImNhcmROdW1iZXIiLCJjYXJkRGF0ZSIsImNhcmRDVkMiLCJkYXRlVGltZSIsIl9pZCIsInN1YnN0cmluZyIsInRvVXBwZXJDYXNlIiwiU3RyaW5nIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidGlja2V0cyIsInBheW1lbnQiLCJuZXdCb29raW5nIiwic2F2ZSIsInRoZW4iLCJqc29uIiwiY2F0Y2giLCJlcnIiLCJzdGF0dXMiLCJnZXQiLCJmaW5kIiwiYm9va2luZ3MiLCJmaW5kQnlJZCIsInBhcmFtcyIsImJvb2tpbmciLCJwYXJhbXNfaWQiLCJ1cGRhdGVkQm9va2luZyIsImZpbmRCeUlkQW5kRGVsZXRlIiwiY2hlY2tvdXRCb29raW5nIiwiZGVsZXRlIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJib29raW5nUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYm9va2luZ1JvdXRlID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmNvbnN0IHtCb29raW5nfSA9IHJlcXVpcmUoJy4uL21vZGVscy9ib29raW5nTW9kZWwnKTtcclxuXHJcbi8vIGNyZWF0ZSBtb3ZpZSB1c2luZyBmb3JtXHJcbmJvb2tpbmdSb3V0ZS5yb3V0ZSgnL3Bvc3QnKS5wb3N0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgZmlyc3ROYW1lID0gcmVxLmJvZHkuZmlyc3ROYW1lO1xyXG4gICAgY29uc3QgbGFzdE5hbWUgPSByZXEuYm9keS5sYXN0TmFtZTtcclxuICAgIGNvbnN0IG1vdmllID0gcmVxLmJvZHkubW92aWU7XHJcbiAgICBjb25zdCBkYXkgPSByZXEuYm9keS5kYXk7XHJcbiAgICBjb25zdCB0aW1lID0gcmVxLmJvZHkudGltZTtcclxuICAgIGNvbnN0IHByaWNlID0gcmVxLmJvZHkucHJpY2U7XHJcbiAgICBjb25zdCBub09mQWR1bHQgPSByZXEuYm9keS5ub09mQWR1bHQ7XHJcbiAgICBjb25zdCBub09mQ2hpbGQgPSByZXEuYm9keS5ub09mQ2hpbGQ7XHJcbiAgICBjb25zdCBub09mQ29uY2Vzc2lvbiA9IHJlcS5ib2R5Lm5vT2ZDb25jZXNzaW9uO1xyXG4gICAgY29uc3QgY2FyZE5hbWUgPSByZXEuYm9keS5jYXJkTmFtZTtcclxuICAgIGNvbnN0IGNhcmROdW1iZXIgPSByZXEuYm9keS5jYXJkTnVtYmVyO1xyXG4gICAgY29uc3QgY2FyZERhdGUgPSByZXEuYm9keS5jYXJkRGF0ZTtcclxuICAgIGNvbnN0IGNhcmRDVkMgPSByZXEuYm9keS5jYXJkQ1ZDO1xyXG4gICAgY29uc3QgZGF0ZVRpbWUgPSByZXEuYm9keS5kYXRlVGltZTtcclxuXHJcbiAgICBjb25zdCBfaWQgPSAobGFzdE5hbWUuc3Vic3RyaW5nKDAsIDQpLnRvVXBwZXJDYXNlKCkgKyBTdHJpbmcoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTk5OSkgKyAxMDAwKSArIG1vdmllLnN1YnN0cmluZygwLCAyKS50b1VwcGVyQ2FzZSgpKVxyXG4gICAgY29uc3QgdGlja2V0cyA9IHtcclxuICAgICAgICBfaWQsXHJcbiAgICAgICAgbm9PZkFkdWx0LFxyXG4gICAgICAgIG5vT2ZDaGlsZCxcclxuICAgICAgICBub09mQ29uY2Vzc2lvblxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBheW1lbnQgPSB7XHJcbiAgICAgICAgX2lkLFxyXG4gICAgICAgIGNhcmROYW1lLFxyXG4gICAgICAgIGNhcmROdW1iZXIsXHJcbiAgICAgICAgY2FyZERhdGUsXHJcbiAgICAgICAgY2FyZENWQyxcclxuICAgICAgICBkYXRlVGltZVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBuZXdCb29raW5nID0gbmV3IEJvb2tpbmcoe1xyXG4gICAgICAgIF9pZCxcclxuICAgICAgICBmaXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWUsXHJcbiAgICAgICAgbW92aWUsXHJcbiAgICAgICAgZGF5LFxyXG4gICAgICAgIHRpbWUsXHJcbiAgICAgICAgcHJpY2UsXHJcbiAgICAgICAgdGlja2V0cyxcclxuICAgICAgICBwYXltZW50XHJcbiAgICB9KTtcclxuXHJcbiAgICBuZXdCb29raW5nLnNhdmUoKS50aGVuKCgpID0+IHJlcy5qc29uKG5ld0Jvb2tpbmcpKS5jYXRjaCgoZXJyKSA9PiByZXMuc3RhdHVzKDQwMCkuanNvbignRXJyb3I6ICcgKyBlcnIpKVxyXG59KTtcclxuXHJcblxyXG5ib29raW5nUm91dGUucm91dGUoJy9nZXRBbGwnKS5nZXQoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBCb29raW5nLmZpbmQoKS50aGVuKGJvb2tpbmdzID0+IHJlcy5qc29uKGJvb2tpbmdzKSkuY2F0Y2goKGVycikgPT4gcmVzLnN0YXR1cyg0MDApLmpzb24oJ0Vycm9yOiAnICsgZXJyKSlcclxufSk7XHJcblxyXG5cclxuYm9va2luZ1JvdXRlLnJvdXRlKCcvZ2V0LzpfaWQnKS5nZXQoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBCb29raW5nLmZpbmRCeUlkKHtcIl9pZFwiOiByZXEucGFyYW1zLl9pZH0pLnRoZW4oKGJvb2tpbmcpID0+IHJlcy5qc29uKGJvb2tpbmcpKS5jYXRjaCgoZXJyKSA9PiByZXMuc3RhdHVzKDQwMCkuanNvbignRXJyb3I6ICcgKyBlcnIpKVxyXG59KTtcclxuXHJcblxyXG5ib29raW5nUm91dGUucm91dGUoJy91cGRhdGUvOl9pZCcpLnBvc3QoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBCb29raW5nLmZpbmRCeUlkKHJlcS5wYXJhbXNfaWQpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkQm9va2luZyA9IHtcclxuICAgICAgICAgICAgX2lkOiByZXEucGFyYW1zLl9pZCxcclxuICAgICAgICAgICAgZmlyc3ROYW1lOiByZXMuYm9keS5maXJzdE5hbWUsXHJcbiAgICAgICAgICAgIGxhc3ROYW1lOiByZXMuYm9keS5sYXN0TmFtZSxcclxuICAgICAgICAgICAgbW92aWU6IHJlcy5ib2R5Lm1vdmllLFxyXG4gICAgICAgICAgICBkYXk6IHJlcy5ib2R5LmRheSxcclxuICAgICAgICAgICAgdGltZTogcmVzLmJvZHkudGltZSxcclxuICAgICAgICAgICAgdGlja2V0czoge1xyXG4gICAgICAgICAgICAgICAgX2lkOiByZXEucGFyYW1zLl9pZCxcclxuICAgICAgICAgICAgICAgIG5vT2ZBZHVsdDogcmVxLmJvZHkubm9PZkFkdWx0LFxyXG4gICAgICAgICAgICAgICAgbm9PZkNoaWxkOiByZXEuYm9keS5ub09mQ2hpbGQsXHJcbiAgICAgICAgICAgICAgICBub09mQ29uY2Vzc2lvbjogcmVxLmJvZHkubm9PZkNvbmNlc3Npb25cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGF5bWVudDoge1xyXG4gICAgICAgICAgICAgICAgX2lkOiByZXEucGFyYW1zLl9pZCxcclxuICAgICAgICAgICAgICAgIGNhcmROYW1lOiByZXMuYm9keS5jYXJkTmFtZSxcclxuICAgICAgICAgICAgICAgIGNhcmROdW1iZXI6IHJlcy5ib2R5LmNhcmROdW1iZXIsXHJcbiAgICAgICAgICAgICAgICBjYXJkRGF0ZTogcmVzLmJvZHkuY2FyZERhdGUsXHJcbiAgICAgICAgICAgICAgICBjYXJkQ1ZDOiByZXMuYm9keS5jYXJkQ1ZDXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuICAgICAgICBCb29raW5nLmZpbmRCeUlkQW5kRGVsZXRlKHJlcS5wYXJhbXMuX2lkKTtcclxuICAgICAgICB1cGRhdGVkQm9va2luZy5zYXZlKCkudGhlbigoKSA9PiByZXMuanNvbih1cGRhdGVkQm9va2luZykpLmNhdGNoKChlcnIpID0+IHJlcy5zdGF0dXMoNDAwKS5qc29uKCdFcnJvcjogJyArIGVycikpXHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiByZXMuanNvbignRXJyb3I6ICcgKyBlcnIpKTtcclxufSk7XHJcblxyXG5cclxuYm9va2luZ1JvdXRlLnJvdXRlKCcvY2hlY2tvdXQvOl9pZCcpLnBvc3QoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBCb29raW5nLmZpbmRCeUlkKHJlcS5wYXJhbXNfaWQpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBjb25zdCBjaGVja291dEJvb2tpbmcgPSB7XHJcbiAgICAgICAgICAgIF9pZDogcmVxLnBhcmFtcy5faWQsXHJcbiAgICAgICAgICAgIGZpcnN0TmFtZTogcmVxLnBhcmFtcy5maXJzdE5hbWUsXHJcbiAgICAgICAgICAgIGxhc3ROYW1lOiByZXMuYm9keS5sYXN0TmFtZSxcclxuICAgICAgICAgICAgbW92aWU6IHJlcy5ib2R5Lm1vdmllLFxyXG4gICAgICAgICAgICBkYXk6IHJlcy5ib2R5LmRheSxcclxuICAgICAgICAgICAgdGltZTogcmVzLmJvZHkudGltZSxcclxuICAgICAgICAgICAgdGlja2V0czoge1xyXG4gICAgICAgICAgICAgICAgX2lkOiByZXEucGFyYW1zLl9pZCxcclxuICAgICAgICAgICAgICAgIG5vT2ZBZHVsdDogcmVzLmJvZHkubm9PZkFkdWx0LFxyXG4gICAgICAgICAgICAgICAgbm9PZkNoaWxkOiByZXMuYm9keS5ub09mQ2hpbGQsXHJcbiAgICAgICAgICAgICAgICBub09mQ29uY2Vzc2lvbjogcmVzLmJvZHkubm9PZkNvbmNlc3Npb25cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGF5bWVudDoge1xyXG4gICAgICAgICAgICAgICAgX2lkOiByZXEucGFyYW1zLl9pZCxcclxuICAgICAgICAgICAgICAgIGNhcmROYW1lOiByZXEuYm9keS5jYXJkTmFtZSxcclxuICAgICAgICAgICAgICAgIGNhcmROdW1iZXI6IHJlcS5ib2R5LmNhcmROdW1iZXIsXHJcbiAgICAgICAgICAgICAgICBjYXJkRGF0ZTogcmVxLmJvZHkuY2FyZERhdGUsXHJcbiAgICAgICAgICAgICAgICBjYXJkQ1ZDOiByZXEuYm9keS5jYXJkQ1ZDXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEJvb2tpbmcuZmluZEJ5SWRBbmREZWxldGUocmVxLnBhcmFtcy5faWQpO1xyXG4gICAgICAgIGNoZWNrb3V0Qm9va2luZy5zYXZlKCkudGhlbigoKSA9PiByZXMuanNvbihjaGVja291dEJvb2tpbmcpKS5jYXRjaCgoZXJyKSA9PiByZXMuc3RhdHVzKDQwMCkuanNvbignRXJyb3I6ICcgKyBlcnIpKVxyXG4gICAgfSkuY2F0Y2goKGVycikgPT4gcmVzLmpzb24oJ0Vycm9yOiAnICsgZXJyKSk7XHJcbn0pO1xyXG5cclxuXHJcbmJvb2tpbmdSb3V0ZS5yb3V0ZSgnL2RlbGV0ZS86X2lkJykuZGVsZXRlKChyZXEsIHJlcykgPT4ge1xyXG4gICAgQm9va2luZy5maW5kQnlJZEFuZERlbGV0ZShyZXEucGFyYW1zLl9pZCkudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIkJvb2tpbmcgc3VjY2Vzc2Z1bGx5IGNhbmNlbGxlZFwiKSkuY2F0Y2goKGVycikgPT4gcmVzLnN0YXR1cyg0MDApLmpzb24oJ0Vycm9yOiAnICsgZXJyKSlcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGJvb2tpbmdSb3V0ZTtcclxuIl0sIm1hcHBpbmdzIjoiZ2lQQWVZO3lGQWZaLEtBQU1BLE1BQUsseUJBQUdDLE9BQU8sQ0FBQyxPQUFELENBQVYsQ0FBWCxDQUNBLEtBQU1DLFFBQU8seUJBQUdELE9BQU8sQ0FBQyxTQUFELENBQVYsQ0FBYixDQUNBLEtBQU1FLGFBQVkseUJBQUdELE9B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